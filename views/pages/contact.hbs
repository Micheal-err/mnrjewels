<div id="toast" class="toast" style="display:none; "></div>

<!-- CONTACT SECTION -->
<section class="bg-base-color contact-section-fix position-relative z-index-1 pb-0" >

  <div class="container" style="margin-bottom: 8rem;">
    <div class="row d-flex justify-content-center align-items-center">
     <div class="col-xl-5 col-lg-5 mb-5 mb-lg-0">
    <div class="contact-info-box">
      <h3 class="contact-info-title">Message us at</h3>

      <div class="contact-info-item">
        <span>For customer queries</span>
        <a href="mailto:contact.mnrjewels@gmail.com" class="text-white">
          contact.mnrjewels@gmail.com
        </a>
      </div>

      <div class="contact-info-item">
        <span>For business</span>
        <a href="mailto:mnrjewels.in@gmail.com" class="text-white">
          mnrjewels.in@gmail.com
        </a>
      </div>

      <div class="contact-info-item">
        <span>For work</span>
        <a href="mailto:team.mnrjewels@gmail.com" class="text-white">
          team.mnrjewels@gmail.com
        </a>
      </div>
    </div>
  </div>


      <div class="col-xl-6 col-lg-6">
      

        <div class="contact-form-style-03 bg-chablis-red p-13 position-relative overflow-hidden">
          <i class="bi bi-chat-text fs-140 text-cinderella-red position-absolute top-minus-30px right-minus-40px"></i>

          <h2 class="fw-600 alt-font text-dark-gray ls-minus-1px fancy-text-style-4 mb-20px">
            Say  
            <span data-fancy-text='{ "effect": "rotate", "string": ["hello!", "hallÃ¥!", "salve!"] }'></span>
          </h2>

          <form id="contactForm" novalidate>
            <div class="position-relative form-group mb-20px">
              <span class="form-icon text-dark-gray"><i class="bi bi-emoji-smile"></i></span>
              <input class="ps-0 fs-17 form-control" type="text" name="name" placeholder="Your name*" />
            </div>

            <div class="position-relative form-group mb-20px">
              <span class="form-icon text-dark-gray"><i class="bi bi-envelope"></i></span>
              <input class="ps-0 fs-17 form-control" type="email" name="email" placeholder="Your email address*" />
            </div>

            <div class="position-relative form-group mb-20px">
              <span class="form-icon text-dark-gray"><i class="bi bi-telephone"></i></span>
              <input class="ps-0 fs-17 form-control" type="tel" name="phone" placeholder="Your phone" />
            </div>

            <div class="position-relative form-group form-textarea mt-15px mb-0">
              <textarea class="ps-0 fs-17 form-control" name="comment" placeholder="Your message" rows="4"></textarea>
              <span class="form-icon text-dark-gray">
                <i class="bi bi-chat-square-dots"></i>
              </span>

              <button id="contactSubmitBtn" class="btn btn-dark-gray btn-medium btn-round-edge btn-box-shadow mt-25px" type="submit">
                Send message
              </button>

              <div class="form-results mt-20px" style="display:none;color:#fff;padding:10px;border-radius:6px;"></div>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</section>
<style>
  

/* ===============================
   CONTACT SECTION FIX
================================ */
.contact-section-fix {
  min-height: 100vh;
  display: flex;
  align-items: center;
}

/* ===============================
   FORM CONTAINER
================================ */
.contact-form-style-03 {
  background: #ffffff !important;
  border-radius: 10px !important;
  padding: 48px !important;
  position: relative;
}

/* REMOVE DECORATIVE ICON OVERLAP */
.contact-form-style-03 > i {
  display: none;
}

/* ===============================
   HEADINGS
================================ */
.contact-form-style-03 h2 {
  color: #9FA878;
}




/* ===============================
   INPUTS & TEXTAREA
================================ */
.contact-form-style-03 .form-control {
  border: none;
  border-bottom: 2px solid rgba(15, 23, 42, 0.25);
  border-radius: 0;
  padding-left: 28px;
  background: transparent;
  color: #9FA878;
  font-size: 16px;
}

.contact-form-style-03 textarea.form-control {
  padding-left: 28px;
  resize: none;
}

.contact-form-style-03 .form-control::placeholder {
  color: rgba(15, 23, 42, 0.5);
}

.contact-form-style-03 .form-control:focus {
  outline: none;
  box-shadow: none;
  border-color: #0f172a;
}

/* ===============================
   BUTTON
================================ */
#contactSubmitBtn {
  margin-top: 30px;
  background: #9FA878;
  color: #ffffff;
  border-radius: 6px;
  padding: 14px 28px;
  font-weight: 600;
  border: none;
}

#contactSubmitBtn:hover {
  background: #9FA878;
}

/* ===============================
   TOAST (CLEAN)
================================ */
#toast {
  font-weight: 600;
  box-shadow: 0 12px 30px rgba(0,0,0,.2);
}

/* ===============================
   CONTACT INFO PANEL
================================ */
.contact-info-box {
  color: #ffffff;
  padding-right: 40px;
}

.contact-info-title {
  font-size: 32px;
  font-weight: 600;
  margin-bottom: 32px;
  color: #ffffff;
}

/* ITEM */
.contact-info-item {
  margin-bottom: 22px;
}

.contact-info-item span {
  display: block;
  font-size: 14px;
  opacity: 0.75;
  margin-bottom: 6px;
}

.contact-info-item a {
  font-size: 18px;
  font-weight: 500;
  color: #9FA878;
  text-decoration: none;
  transition: opacity 0.2s ease;
}

.contact-info-item a:hover {
  opacity: 0.8;
}

/* ===============================
   RESPONSIVE
================================ */
@media (max-width: 991px) {
  .contact-info-box {
    padding-right: 0;
    text-align: center;
  }
}


</style>




<!-- ðŸ”¥ FIXED WORKING SCRIPT â€” NO DOMContentLoaded -->
<script>
// Toast
function ensureToast() {
  let t = document.getElementById("toast");
  if (!t) {
    t = document.createElement("div");
    t.id = "toast";
    document.body.appendChild(t);
  }
  t.style.position = "fixed";
  t.style.top = "20px";
  t.style.right = "20px";
  t.style.padding = "12px 16px";
  t.style.borderRadius = "8px";
  t.style.zIndex = 999999;
  t.style.display = "none";
  return t;
}

const toastEl = ensureToast();

function showToast(msg, type = "success") {
  toastEl.textContent = msg;
  toastEl.style.background = type === "error" ? "#ff4747" : "#00c471";
  toastEl.style.color = type === "error" ? "#fff" : "#000";
  toastEl.style.display = "block";
  toastEl.style.opacity = 1;

  setTimeout(() => {
    toastEl.style.opacity = 0;
    setTimeout(() => toastEl.style.display = "none", 300);
  }, 2500);
}


// ðŸ’¬ FORM HANDLER (runs immediately)
const form = document.getElementById("contactForm");
const submitBtn = document.getElementById("contactSubmitBtn");
const resultsEl = document.querySelector(".form-results");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  const name  = form.name.value.trim();
  const email = form.email.value.trim();
  const phone = form.phone.value.trim();
  const msg   = form.comment.value.trim();

  if (!name) return showToast("Name is required", "error");
  if (!email || !/^\S+@\S+\.\S+$/.test(email)) return showToast("Invalid email", "error");
  if (phone && !/^[0-9]{10}$/.test(phone)) return showToast("Phone must be 10 digits", "error");
  if (!msg) return showToast("Message cannot be empty", "error");

  submitBtn.disabled = true;
  submitBtn.textContent = "Sending...";

  try {
    const res = await fetch("/contact", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ name, email, phone, message: msg }),
    });

    const data = await res.json();
    console.log("Response:", data);

    if (data.success) {
      showToast("Message sent successfully!");
      form.reset();
    } else {
      showToast("Failed to send message", "error");
    }

  } catch (err) {
    console.error(err);
    showToast("Network error", "error");
  }

  submitBtn.disabled = false;
  submitBtn.textContent = "Send message";
});
</script>
